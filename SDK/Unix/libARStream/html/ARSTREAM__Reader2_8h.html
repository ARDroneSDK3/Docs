<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libARStream: ARSTREAM_Reader2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libARStream
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ARSTREAM__Reader2_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ARSTREAM_Reader2.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stream reader on network (v2)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="ARSTREAM__Error_8h_source.html">libARStream/ARSTREAM_Error.h</a>&gt;</code><br/>
</div>
<p><a href="ARSTREAM__Reader2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structARSTREAM__Reader2__Config__t.html">ARSTREAM_Reader2_Config_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structARSTREAM__Reader2__Resender__Config__t.html">ARSTREAM_Reader2_Resender_Config_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aad950859a5989ec4ca8c1633d70e5a13"><td class="memItemLeft" align="right" valign="top">typedef uint8_t *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#aad950859a5989ec4ca8c1633d70e5a13">ARSTREAM_Reader2_NaluCallback_t</a> )(<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5">eARSTREAM_READER2_CAUSE</a> cause, uint8_t *naluBuffer, int naluSize, uint64_t auTimestamp, int isFirstNaluInAu, int isLastNaluInAu, int missingPacketsBefore, <a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcac">eARSTREAM_READER2_H264_SLICE_TYPE</a> sliceType, int *newNaluBufferSize, void *custom)</td></tr>
<tr class="memdesc:aad950859a5989ec4ca8c1633d70e5a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback called when a new frame is ready in a buffer.  <a href="#aad950859a5989ec4ca8c1633d70e5a13">More...</a><br/></td></tr>
<tr class="separator:aad950859a5989ec4ca8c1633d70e5a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c8c0be0ba7a8b1bc39748f5a9b0051"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6c8c0be0ba7a8b1bc39748f5a9b0051"></a>
typedef struct <br class="typebreak"/>
<a class="el" href="structARSTREAM__Reader2__Config__t.html">ARSTREAM_Reader2_Config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Config_t</b></td></tr>
<tr class="separator:ad6c8c0be0ba7a8b1bc39748f5a9b0051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8a96a79e60e2daa391546ee23528e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf8a96a79e60e2daa391546ee23528e7"></a>
typedef struct <br class="typebreak"/>
<a class="el" href="structARSTREAM__Reader2__Resender__Config__t.html">ARSTREAM_Reader2_Resender_Config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_Config_t</b></td></tr>
<tr class="separator:aaf8a96a79e60e2daa391546ee23528e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa3fc6ce36dc68ca3c58d265bb1e5e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfa3fc6ce36dc68ca3c58d265bb1e5e9"></a>
typedef struct <a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a></td></tr>
<tr class="memdesc:acfa3fc6ce36dc68ca3c58d265bb1e5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">An ARSTREAM_Reader2_t instance allow reading streamed frames from a network. <br/></td></tr>
<tr class="separator:acfa3fc6ce36dc68ca3c58d265bb1e5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16418cd475f703946c372393add5c0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab16418cd475f703946c372393add5c0f"></a>
typedef struct <br class="typebreak"/>
ARSTREAM_Reader2_Resender_t&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_t</b></td></tr>
<tr class="separator:ab16418cd475f703946c372393add5c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a52bcc9870911e652b6483dc8ea3789a5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5">eARSTREAM_READER2_CAUSE</a> { <br/>
&#160;&#160;<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5aa1799d0f43cb310baa9fdeba7af6b2c9">ARSTREAM_READER2_CAUSE_NALU_COMPLETE</a> = 0, 
<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5aa777e9ad347591fbc9618f2a910e480c">ARSTREAM_READER2_CAUSE_NALU_BUFFER_TOO_SMALL</a>, 
<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5a3a804224b5ababc8d9ba5d6a48b53f0a">ARSTREAM_READER2_CAUSE_NALU_COPY_COMPLETE</a>, 
<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5a801607ba4b87f309bfaf6972ea796511">ARSTREAM_READER2_CAUSE_CANCEL</a>, 
<br/>
&#160;&#160;<b>ARSTREAM_READER2_CAUSE_MAX</b>
<br/>
 }</td></tr>
<tr class="memdesc:a52bcc9870911e652b6483dc8ea3789a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes for FrameComplete callback.  <a href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5">More...</a><br/></td></tr>
<tr class="separator:a52bcc9870911e652b6483dc8ea3789a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad845a0e2ccf3a1b86a6a33b2603bcac"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcac">eARSTREAM_READER2_H264_SLICE_TYPE</a> { <a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcacae1dedfbcda9b0a404cb7f380b2431911">ARSTREAM_READER2_H264_NON_VCL</a> = 0, 
<a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcacac84ce7596277b729d64575d0599712ee">ARSTREAM_READER2_H264_SLICE_I</a>, 
<a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcaca0d287a14962a2caf92d194b8040bce40">ARSTREAM_READER2_H264_SLICE_P</a>, 
<b>ARSTREAM_READER2_H264_SLICE_TYPE_MAX</b>
 }</td></tr>
<tr class="memdesc:aad845a0e2ccf3a1b86a6a33b2603bcac"><td class="mdescLeft">&#160;</td><td class="mdescRight">H.264 slice types.  <a href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcac">More...</a><br/></td></tr>
<tr class="separator:aad845a0e2ccf3a1b86a6a33b2603bcac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a81568f04c978c020bc43d586ad3714f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#a81568f04c978c020bc43d586ad3714f4">ARSTREAM_Reader2_New</a> (<a class="el" href="structARSTREAM__Reader2__Config__t.html">ARSTREAM_Reader2_Config_t</a> *config, uint8_t *naluBuffer, int naluBufferSize, void *custom, <a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> *error)</td></tr>
<tr class="memdesc:a81568f04c978c020bc43d586ad3714f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new ARSTREAM_Reader2_t.  <a href="#a81568f04c978c020bc43d586ad3714f4">More...</a><br/></td></tr>
<tr class="separator:a81568f04c978c020bc43d586ad3714f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe45a3accd138654c5fa65b83846e836"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836">ARSTREAM_Reader2_StopReader</a> (<a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *reader)</td></tr>
<tr class="memdesc:abe45a3accd138654c5fa65b83846e836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a running ARSTREAM_Reader2_t.  <a href="#abe45a3accd138654c5fa65b83846e836">More...</a><br/></td></tr>
<tr class="separator:abe45a3accd138654c5fa65b83846e836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa05a92655dca6f6ce96c65b2f47cd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#adaa05a92655dca6f6ce96c65b2f47cd0">ARSTREAM_Reader2_Delete</a> (<a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> **reader)</td></tr>
<tr class="memdesc:adaa05a92655dca6f6ce96c65b2f47cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an ARSTREAM_Reader2_t.  <a href="#adaa05a92655dca6f6ce96c65b2f47cd0">More...</a><br/></td></tr>
<tr class="separator:adaa05a92655dca6f6ce96c65b2f47cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc7841226dee98dc326fd971c09e5e5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#a9bc7841226dee98dc326fd971c09e5e5">ARSTREAM_Reader2_RunRecvThread</a> (void *ARSTREAM_Reader2_t_Param)</td></tr>
<tr class="memdesc:a9bc7841226dee98dc326fd971c09e5e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the data loop of the ARSTREAM_Reader2_t.  <a href="#a9bc7841226dee98dc326fd971c09e5e5">More...</a><br/></td></tr>
<tr class="separator:a9bc7841226dee98dc326fd971c09e5e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d38a26c22fde62436c7d8ed3e1736c2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#a2d38a26c22fde62436c7d8ed3e1736c2">ARSTREAM_Reader2_RunSendThread</a> (void *ARSTREAM_Reader2_t_Param)</td></tr>
<tr class="memdesc:a2d38a26c22fde62436c7d8ed3e1736c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the acknowledge loop of the ARSTREAM_Reader2_t.  <a href="#a2d38a26c22fde62436c7d8ed3e1736c2">More...</a><br/></td></tr>
<tr class="separator:a2d38a26c22fde62436c7d8ed3e1736c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb7ebbb8ccde239d18228166636a34c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ARSTREAM__Reader2_8h.html#addb7ebbb8ccde239d18228166636a34c">ARSTREAM_Reader2_GetCustom</a> (<a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *reader)</td></tr>
<tr class="memdesc:addb7ebbb8ccde239d18228166636a34c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the custom pointer associated with the reader.  <a href="#addb7ebbb8ccde239d18228166636a34c">More...</a><br/></td></tr>
<tr class="separator:addb7ebbb8ccde239d18228166636a34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac630d375821ff2ff897d9683bf572f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ac630d375821ff2ff897d9683bf572f"></a>
<a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_GetMonitoring</b> (<a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *reader, uint64_t startTime, uint32_t timeIntervalUs, uint32_t *realTimeIntervalUs, uint32_t *receptionTimeJitter, uint32_t *bytesReceived, uint32_t *meanPacketSize, uint32_t *packetSizeStdDev, uint32_t *packetsReceived, uint32_t *packetsMissed)</td></tr>
<tr class="separator:a9ac630d375821ff2ff897d9683bf572f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60496a072f9aeee4d977741f455b27ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60496a072f9aeee4d977741f455b27ba"></a>
ARSTREAM_Reader2_Resender_t *&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_New</b> (<a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *reader, <a class="el" href="structARSTREAM__Reader2__Resender__Config__t.html">ARSTREAM_Reader2_Resender_Config_t</a> *config, <a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> *error)</td></tr>
<tr class="separator:a60496a072f9aeee4d977741f455b27ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe003cbc8a8abde62e65b79bb5e2c56a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe003cbc8a8abde62e65b79bb5e2c56a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_Stop</b> (ARSTREAM_Reader2_Resender_t *resender)</td></tr>
<tr class="separator:afe003cbc8a8abde62e65b79bb5e2c56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c1c6244bfdc6f23637dc58f5eed4e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01c1c6244bfdc6f23637dc58f5eed4e9"></a>
<a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_Delete</b> (ARSTREAM_Reader2_Resender_t **resender)</td></tr>
<tr class="separator:a01c1c6244bfdc6f23637dc58f5eed4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884a0888fb1bfc7082c89aba1c6ddb05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a884a0888fb1bfc7082c89aba1c6ddb05"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_RunSendThread</b> (void *ARSTREAM_Reader2_Resender_t_Param)</td></tr>
<tr class="separator:a884a0888fb1bfc7082c89aba1c6ddb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0ec770b435bfcfe3c3e3819948e74d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a0ec770b435bfcfe3c3e3819948e74d"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>ARSTREAM_Reader2_Resender_RunRecvThread</b> (void *ARSTREAM_Reader2_Resender_t_Param)</td></tr>
<tr class="separator:a9a0ec770b435bfcfe3c3e3819948e74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stream reader on network (v2) </p>
<dl class="section date"><dt>Date</dt><dd>04/16/2015 </dd></dl>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'aur'+'el'+'ien'+'.b'+'arr'+'e@'+'par'+'ro'+'t.c'+'om'; return false;">aurel<span style="display: none;">.nosp@m.</span>ien.<span style="display: none;">.nosp@m.</span>barre<span style="display: none;">.nosp@m.</span>@par<span style="display: none;">.nosp@m.</span>rot.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aad950859a5989ec4ca8c1633d70e5a13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t*(* ARSTREAM_Reader2_NaluCallback_t)(<a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5">eARSTREAM_READER2_CAUSE</a> cause, uint8_t *naluBuffer, int naluSize, uint64_t auTimestamp, int isFirstNaluInAu, int isLastNaluInAu, int missingPacketsBefore, <a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcac">eARSTREAM_READER2_H264_SLICE_TYPE</a> sliceType, int *newNaluBufferSize, void *custom)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback called when a new frame is ready in a buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cause</td><td>Describes why this callback was called </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">framePointer</td><td>Pointer to the frame buffer which was received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameSize</td><td>Used size in framePointer buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isFlushFrame</td><td>Boolean-like (0-1) flag telling if the complete frame was a flush frame (typically an I-Frame) for the sender </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numberOfSkippedFrames</td><td>Number of frames which were skipped between the previous call and this one. (Usually 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numberOfMissingFragments</td><td>Number of fragments missing from the frame. (Usually 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">totalFragments</td><td>Total number of expected fragments for the frame. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">newBufferCapacity</td><td>Capacity of the next buffer to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">custom</td><td>Custom pointer passed during ARSTREAM_Reader2_New</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address of a new buffer which will hold the next frame</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If cause is ARSTREAM_READER2_CAUSE_FRAME_COMPLETE, framePointer contains a valid frame. </dd>
<dd>
If cause is ARSTREAM_READER2_CAUSE_FRAME_INCOMPLETE, framePointer contains an incomplete frame that may be partly decodable. </dd>
<dd>
If cause is ARSTREAM_READER2_CAUSE_FRAME_TOO_SMALL, datas will be copied into the new frame. Old frame buffer will still be in use until the callback is called again with ARSTREAM_READER2_CAUSE_COPY_COMPLETE cause. If the new frame is still too small, the callback will be called again, until a suitable buffer is provided. newBufferCapacity holds a suitable capacity for the new buffer, but still has to be updated by the application. </dd>
<dd>
If cause is ARSTREAM_READER2_CAUSE_COPY_COMPLETE, the return value and newBufferCapacity are unused. If numberOfSkippedFrames is non-zero, then the current frame will be skipped (usually because the buffer returned after the ARSTREAM_READER2_CAUSE_FRAME_TOO_SMALL was smaller than the previous buffer). </dd>
<dd>
If cause is ARSTREAM_READER2_CAUSE_CANCEL, the return value and newBufferCapacity are unused</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the cause is ARSTREAM_READER2_CAUSE_FRAME_TOO_SMALL, returning a buffer shorter than 'frameSize' will cause the library to skip the current frame </dd>
<dd>
In any case, returning a NULL buffer is not supported. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a52bcc9870911e652b6483dc8ea3789a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ARSTREAM__Reader2_8h.html#a52bcc9870911e652b6483dc8ea3789a5">eARSTREAM_READER2_CAUSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Causes for FrameComplete callback. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a52bcc9870911e652b6483dc8ea3789a5aa1799d0f43cb310baa9fdeba7af6b2c9"></a>ARSTREAM_READER2_CAUSE_NALU_COMPLETE</em>&#160;</td><td class="fielddoc">
<p>Frame is complete (no error) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a52bcc9870911e652b6483dc8ea3789a5aa777e9ad347591fbc9618f2a910e480c"></a>ARSTREAM_READER2_CAUSE_NALU_BUFFER_TOO_SMALL</em>&#160;</td><td class="fielddoc">
<p>Frame buffer is too small for the frame on the network </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a52bcc9870911e652b6483dc8ea3789a5a3a804224b5ababc8d9ba5d6a48b53f0a"></a>ARSTREAM_READER2_CAUSE_NALU_COPY_COMPLETE</em>&#160;</td><td class="fielddoc">
<p>Copy of previous frame buffer is complete (called only after ARSTREAM_READER2_CAUSE_FRAME_TOO_SMALL) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a52bcc9870911e652b6483dc8ea3789a5a801607ba4b87f309bfaf6972ea796511"></a>ARSTREAM_READER2_CAUSE_CANCEL</em>&#160;</td><td class="fielddoc">
<p>Reader is closing, so buffer is no longer used </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aad845a0e2ccf3a1b86a6a33b2603bcac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ARSTREAM__Reader2_8h.html#aad845a0e2ccf3a1b86a6a33b2603bcac">eARSTREAM_READER2_H264_SLICE_TYPE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>H.264 slice types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aad845a0e2ccf3a1b86a6a33b2603bcacae1dedfbcda9b0a404cb7f380b2431911"></a>ARSTREAM_READER2_H264_NON_VCL</em>&#160;</td><td class="fielddoc">
<p>Non-VCL NAL unit </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad845a0e2ccf3a1b86a6a33b2603bcacac84ce7596277b729d64575d0599712ee"></a>ARSTREAM_READER2_H264_SLICE_I</em>&#160;</td><td class="fielddoc">
<p>I-slice </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aad845a0e2ccf3a1b86a6a33b2603bcaca0d287a14962a2caf92d194b8040bce40"></a>ARSTREAM_READER2_H264_SLICE_P</em>&#160;</td><td class="fielddoc">
<p>P-slice </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adaa05a92655dca6f6ce96c65b2f47cd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> ARSTREAM_Reader2_Delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> **&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an ARSTREAM_Reader2_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function should NOT be called on a running ARSTREAM_Reader2_t</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>Pointer to the ARSTREAM_Reader2_t * to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ARSTREAM_OK if the ARSTREAM_Reader2_t was deleted </dd>
<dd>
ARSTREAM_ERROR_BUSY if the ARSTREAM_Reader2_t is still busy and can not be stopped now (probably because <a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> was not called yet) </dd>
<dd>
ARSTREAM_ERROR_BAD_PARAMETERS if reader does not point to a valid ARSTREAM_Reader2_t</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The library use a double pointer, so it can set *reader to NULL after freeing it </dd></dl>

</div>
</div>
<a class="anchor" id="addb7ebbb8ccde239d18228166636a34c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Reader2_GetCustom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the custom pointer associated with the reader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reader</td><td>The ARSTREAM_Reader2_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The custom pointer associated with this reader, or NULL if reader does not point to a valid reader </dd></dl>

</div>
</div>
<a class="anchor" id="a81568f04c978c020bc43d586ad3714f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a>* ARSTREAM_Reader2_New </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structARSTREAM__Reader2__Config__t.html">ARSTREAM_Reader2_Config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>naluBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>naluBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>custom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Error_8h.html#a8eb716e8b166994e8662532ed199a10f">eARSTREAM_ERROR</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new ARSTREAM_Reader2_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function allocates memory. An ARSTREAM_Reader2_t muse be deleted by a call to ARSTREAM_Reader2_Delete</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">manager</td><td>Pointer to a valid and connected ARNETWORK_Manager_t, which will be used to stream frames </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataBufferID</td><td>ID of a StreamDataBuffer available within the manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ackBufferID</td><td>ID of a StreamAckBuffer available within the manager </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback which will be called every time a new frame is available </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameBuffer</td><td>The adress of the first frameBuffer to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameBufferSize</td><td>The length of the frameBuffer (to avoid overflow) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxFragmentSize</td><td>Maximum allowed size for a video data fragment. Video frames larger that will be fragmented. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">custom</td><td>Custom pointer which will be passed to callback </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Optionnal pointer to an eARSTREAM_ERROR to hold any error information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new ARSTREAM_Reader2_t, or NULL if an error occured </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>ARSTREAM_Reader2_InitStreamDataBuffer() </dd>
<dd>
ARSTREAM_Reader2_InitStreamAckBuffer() </dd>
<dd>
<a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> </dd>
<dd>
<a class="el" href="ARSTREAM__Reader2_8h.html#adaa05a92655dca6f6ce96c65b2f47cd0" title="Deletes an ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_Delete()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9bc7841226dee98dc326fd971c09e5e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Reader2_RunRecvThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ARSTREAM_Reader2_t_Param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the data loop of the ARSTREAM_Reader2_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function never returns until <a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> is called. Thus, it should be called on its own thread </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Stop the ARSTREAM_Reader2_t by calling <a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> before joining the thread calling this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ARSTREAM_Reader2_t_Param</td><td>A valid (ARSTREAM_Reader2_t *) casted as a (void *) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2d38a26c22fde62436c7d8ed3e1736c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ARSTREAM_Reader2_RunSendThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ARSTREAM_Reader2_t_Param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the acknowledge loop of the ARSTREAM_Reader2_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function never returns until <a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> is called. Thus, it should be called on its own thread </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Stop the ARSTREAM_Reader_t by calling <a class="el" href="ARSTREAM__Reader2_8h.html#abe45a3accd138654c5fa65b83846e836" title="Stops a running ARSTREAM_Reader2_t. ">ARSTREAM_Reader2_StopReader()</a> before joining the thread calling this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ARSTREAM_Reader2_t_Param</td><td>A valid (ARSTREAM_Reader2_t *) casted as a (void *) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe45a3accd138654c5fa65b83846e836"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ARSTREAM_Reader2_StopReader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ARSTREAM__Reader2_8h.html#acfa3fc6ce36dc68ca3c58d265bb1e5e9">ARSTREAM_Reader2_t</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops a running ARSTREAM_Reader2_t. </p>
<dl class="section warning"><dt>Warning</dt><dd>Once stopped, an ARSTREAM_Reader2_t can not be restarted</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reader</td><td>The ARSTREAM_Reader2_t to stop</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calling this function multiple times has no effect </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5337958d0bc91249fdb436c6fc335337.html">libARStream</a></li><li class="navelem"><a class="el" href="dir_08b6ec8fe6047bda59e9de77b27448ef.html">Includes</a></li><li class="navelem"><a class="el" href="dir_5c2a28a9780b163d17016db62e4321b7.html">libARStream</a></li><li class="navelem"><a class="el" href="ARSTREAM__Reader2_8h.html">ARSTREAM_Reader2.h</a></li>
    <li class="footer">Generated on Wed Nov 18 2015 17:45:32 for libARStream by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
